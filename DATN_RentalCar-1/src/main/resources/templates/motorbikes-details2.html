<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<!-- Link Swiper's CSS -->
<link rel="stylesheet" href="/assets/css/base.css" />
<!-- <link rel="stylesheet" href="/assets/css/utils.css" /> -->
<link rel="stylesheet" href="/assets/css/style.css" />
<link rel="stylesheet" href="/assets/css/responsive.css" />
<link rel="stylesheet" href="/assets/css/car-details.css" />

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Search-option-->

<title>Chi Tiết Ô Tô</title>
</head>


<body>
	<!-- header -->
	<header th:replace="~{module/header :: header}">
		
	</header>
	<!--Car Details-->
	<div class="cover-car">
		<div class="m-container">
			<div covers="[object Object],[object Object],[object Object],[object Object]" class="cover-car-container">
			
				<div class="main-img">
				    <div class="cover-car-item">
				        <img th:src="@{'/assets/images/motorbike/' + ${#strings.arraySplit(motorbike.imageUrl, ',')[0]}}"
				            alt="Ảnh Xe Chính" loading="lazy" />
				    </div>
				</div>
				
				<!-- Hiển thị ảnh phụ -->
				<div class="sub-img">
				    <div th:each="image : ${#strings.arraySplit(motorbike.imageUrl, ',')}" class="cover-car-item">
				        <img th:src="@{'/assets/images/motorbike/' + ${image}}" alt="Ảnh Xe Phụ" loading="lazy" />
				    </div>
				</div>
				<!-- Hiển thị ảnh -->
				<!-- <script th:inline="javascript">
				    // Hàm tách chuỗi URL thành mảng và loại bỏ khoảng trắng
				    function splitImageUrls(imageUrls) {
				        if (!imageUrls || typeof imageUrls !== 'string') {
				            return [];
				        }
				        return imageUrls.replace(/\s+/g, '%20').split(',');
				    }
				
				    // Lấy chuỗi URL ảnh từ Thymeleaf và xử lý thành mảng
				    const imageUrlsString = /*[[${motorbike.imageUrl}]]*/ ''; // Giá trị từ Thymeleaf (giả sử motorbike.imageUrl là một chuỗi)
				    const imageUrlsArray = splitImageUrls(imageUrlsString);
				    console.log(imageUrlsArray); // Hiển thị mảng URL ảnh trong console để kiểm tra
				</script> -->
				

				<div class="see-more-img">
					<div class="wrap-svg">
					
						<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
							xmlns="http://www.w3.org/2000/svg">
                            <path
								d="M18.7104 21.2499H8.48044C7.08044 21.2499 5.94043 20.1099 5.94043 18.7099V8.47995C5.94043 7.07995 7.08044 5.93994 8.48044 5.93994H18.7104C20.1104 5.93994 21.2504 7.07995 21.2504 8.47995V18.7099C21.2504 20.1099 20.1104 21.2499 18.7104 21.2499Z"
								stroke="#242420" stroke-width="1.5" stroke-linecap="round"
								stroke-linejoin="round">
                            </path>
                            <path
								d="M3.48999 17.32C3.02999 16.86 2.75 16.22 2.75 15.52V5.29001C2.75 3.89001 3.89001 2.75 5.29001 2.75H15.52C16.31 2.75 17.02 3.10999 17.49 3.67999"
								stroke="#242420" stroke-width="1.5" stroke-linecap="round"
								stroke-linejoin="round">
                            </path>
                            <path
								d="M5.94043 18.1001L8.87042 15.1701C9.37042 14.6701 10.1804 14.6701 10.6704 15.1701L11.4204 15.9201C11.9204 16.4201 12.7304 16.4201 13.2204 15.9201L16.5204 12.6201C17.0204 12.1201 17.8304 12.1201 18.3204 12.6201L21.2504 15.5501"
								stroke="#242420" stroke-width="1.5" stroke-linecap="round"
								stroke-linejoin="round">
                            </path>
                            <path
								d="M10.4095 8.41992C9.63955 8.41992 9.01953 9.03991 9.01953 9.80991C9.01953 10.5799 9.63955 11.1999 10.4095 11.1999C11.1795 11.1999 11.7995 10.5799 11.7995 9.80991C11.7995 9.03991 11.1695 8.41992 10.4095 8.41992Z"
								fill="#242420"></path>
                        </svg>
					</div>
					<p>Xem tất cả ảnh</p>
				</div>
			</div>
		</div>
				<!-- Popup Modal -->
		<div id="imageModal" class="modal">
		    <span class="close">&times;</span>
		    <div class="modal-content">
		        <div class="arrow left-arrow">
		            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="white">
		                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
		            </svg>
		        </div>
		        <!-- Ảnh lớn hiển thị ngay lập tức -->
		        <div class="modal-main-image">
		            <img id="zoomedImage" th:src="@{'/assets/images/motorbike/' + ${#strings.arraySplit(motorbike.imageUrl, ',')[0]}}" alt="Zoomed Image">
		        </div>
		        <div class="arrow right-arrow">
		            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke="white">
		                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
		            </svg>
		        </div>
		        <!-- Các ảnh nhỏ bên dưới -->
		        <div class="modal-thumbnails">
		            <div th:each="image : ${#strings.arraySplit(motorbike.imageUrl, ',')}">
		                <img th:src="@{'/assets/images/motorbike/' + ${image}}" class="thumbnail" alt="Thumbnail 1">
		            </div>
		        </div>
		    </div>
		</div>
	<!--Details Product-->
	<div class="car-details">
		<div class="container">
			<div class="details-wrapper">
				<div class="car-info">
					<!-- Tittle-->
					<div class="car-header d-flex-center-btw">
						<h3 th:text="${motorbike.make + ' ' + motorbike.model + ' ' + motorbike.year}"
							class="product-title">
						</h3>

						<div class="car-actions">
							<div class="action-icons">
								<div class="icon-wrapper share-icon">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
										xmlns="http://www.w3.org/2000/svg">
                                        <path
											d="M6.99015 14.02C8.1389 14.02 9.07015 13.1156 9.07015 12C9.07015 10.8844 8.1389 9.97998 6.99015 9.97998C5.8414 9.97998 4.91016 10.8844 4.91016 12C4.91016 13.1156 5.8414 14.02 6.99015 14.02Z"
											stroke="black" stroke-width="1.5" stroke-linecap="round"
											stroke-linejoin="round"></path>
                                        <path
											d="M17.0698 6.99995C18.1854 6.99995 19.0898 6.09557 19.0898 4.97995C19.0898 3.86433 18.1854 2.95996 17.0698 2.95996C15.9542 2.95996 15.0498 3.86433 15.0498 4.97995C15.0498 6.09557 15.9542 6.99995 17.0698 6.99995Z"
											stroke="black" stroke-width="1.5" stroke-linecap="round"
											stroke-linejoin="round"></path>
                                        <path
											d="M17.0698 21.04C18.1854 21.04 19.0898 20.1356 19.0898 19.02C19.0898 17.9044 18.1854 17 17.0698 17C15.9542 17 15.0498 17.9044 15.0498 19.02C15.0498 20.1356 15.9542 21.04 17.0698 21.04Z"
											stroke="black" stroke-width="1.5" stroke-linecap="round"
											stroke-linejoin="round"></path>
                                        <path
											d="M9.23047 10.44L14.8305 6.54004" stroke="black"
											stroke-width="1.5" stroke-linecap="round"
											stroke-linejoin="round"></path>
                                        <path
											d="M14.8305 17.4601L9.23047 13.5601" stroke="black"
											stroke-width="1.5" stroke-linecap="round"
											stroke-linejoin="round"></path>
                                    </svg>
								</div>
								<div class="icon-wrapper fav-icon">
									<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
										xmlns="http://www.w3.org/2000/svg">
                                        <path
											d="M21.25 8.7196C21.25 9.8796 20.81 11.0496 19.92 11.9396L18.44 13.4196L12.07 19.7896C12.04 19.8196 12.03 19.8296 12 19.8496C11.97 19.8296 11.96 19.8196 11.93 19.7896L4.08 11.9396C3.19 11.0496 2.75 9.8896 2.75 8.7196C2.75 7.54961 3.19 6.37961 4.08 5.48961C5.86 3.71961 8.74 3.71961 10.52 5.48961L11.99 6.9696L13.47 5.48961C15.25 3.71961 18.12 3.71961 19.9 5.48961C20.81 6.37961 21.25 7.53961 21.25 8.7196Z"
											stroke="black" stroke-width="1.5" stroke-linecap="round"
											stroke-linejoin="round"></path>
                                    </svg>
								</div>
							</div>
						</div>
					</div>
					<div class="car-summary d-flex-center">
						<!-- Icon Star -->
						<div class="icon-wrapper star-icon">
							<svg width="16" height="17" viewBox="0 0 16 17" fill="none"
								xmlns="http://www.w3.org/2000/svg">
                                <path
									d="M14.6667 7.23331C14.7333 6.89998 14.4667 6.49998 14.1333 6.49998L10.3333 5.96665L8.59999 2.49998C8.53333 2.36665 8.46666 2.29998 8.33333 2.23331C7.99999 2.03331 7.59999 2.16665 7.39999 2.49998L5.73333 5.96665L1.93333 6.49998C1.73333 6.49998 1.59999 6.56665 1.53333 6.69998C1.26666 6.96665 1.26666 7.36665 1.53333 7.63331L4.26666 10.3L3.59999 14.1C3.59999 14.2333 3.59999 14.3666 3.66666 14.5C3.86666 14.8333 4.26666 14.9666 4.59999 14.7666L7.99999 12.9666L11.4 14.7666C11.4667 14.8333 11.6 14.8333 11.7333 14.8333C11.8 14.8333 11.8 14.8333 11.8667 14.8333C12.2 14.7666 12.4667 14.4333 12.4 14.0333L11.7333 10.2333L14.4667 7.56665C14.6 7.49998 14.6667 7.36665 14.6667 7.23331Z"
									fill="#FFC634"></path>
                            </svg>
						</div>
						<span class="info" th:text="${#numbers.formatDecimal(averageRating, 1, 1)}"></span>
						<span class="separator">•</span>
						<!-- Icon Trip Count -->
						<div class="icon-wrapper trip-count-icon">
							<svg width="16" height="16" viewBox="0 0 16 16" fill="none"
								xmlns="http://www.w3.org/2000/svg">
                                <path
									d="M10.0625 1.21875C10.0625 1.06369 10.1887 0.9375 10.3438 0.9375H11.9688C12.1238 0.9375 12.25 1.06369 12.25 1.21875V2.89422H13.1875V1.21875C13.1875 0.546719 12.6408 0 11.9688 0H10.3438C9.67172 0 9.125 0.546719 9.125 1.21875V2.89422H10.0625V1.21875Z"
									fill="#5FCF86"></path>
                                <path
									d="M5.69806 15.0623C5.49325 14.7441 5.375 14.3673 5.375 13.9686V6.94092H1.09375C0.490656 6.94092 0 7.43157 0 8.03467V13.9686C0 14.5186 0.408156 14.9749 0.9375 15.051V15.5309C0.9375 15.7898 1.14737 15.9997 1.40625 15.9997C1.66513 15.9997 1.875 15.7898 1.875 15.5309V15.0623H5.69806V15.0623ZM1.875 8.65967C1.875 8.40079 2.08487 8.19092 2.34375 8.19092C2.60263 8.19092 2.8125 8.40079 2.8125 8.65967V13.3436C2.8125 13.6024 2.60263 13.8123 2.34375 13.8123C2.08487 13.8123 1.875 13.6024 1.875 13.3436V8.65967Z"
									fill="#5FCF86"></path>
                                <path
									d="M4.375 5.26562C4.375 5.11056 4.50119 4.98438 4.65625 4.98438H5.375V4.92547C5.375 4.61094 5.44687 4.31291 5.57506 4.04688H4.65625C3.98422 4.04688 3.4375 4.59359 3.4375 5.26562V6.00359H4.375V5.26562Z"
									fill="#5FCF86"></path>
                                <path
									d="M14.9062 3.83154H7.40625C6.80316 3.83154 6.3125 4.3222 6.3125 4.92529V13.9686C6.3125 14.5186 6.72066 14.9749 7.25 15.051V15.5309C7.25 15.7898 7.45987 15.9997 7.71875 15.9997C7.97763 15.9997 8.1875 15.7898 8.1875 15.5309V15.0623H14.125V15.5309C14.125 15.7898 14.3349 15.9997 14.5938 15.9997C14.8526 15.9997 15.0625 15.7898 15.0625 15.5309V15.051C15.5918 14.9749 16 14.5186 16 13.9686V4.92529C16 4.32217 15.5093 3.83154 14.9062 3.83154ZM9.125 13.3436C9.125 13.6024 8.91513 13.8123 8.65625 13.8123C8.39737 13.8123 8.1875 13.6024 8.1875 13.3436V5.55029C8.1875 5.29142 8.39737 5.08154 8.65625 5.08154C8.91513 5.08154 9.125 5.29142 9.125 5.55029V13.3436ZM13.6562 13.8123C13.3974 13.8123 13.1875 13.6024 13.1875 13.3436V5.55029C13.1875 5.29142 13.3974 5.08154 13.6562 5.08154C13.9151 5.08154 14.125 5.29142 14.125
                                14.125V13.3436C14.125 13.6024 13.9151 13.8123 13.6562 13.8123Z"
									fill="#5FCF86"></path>
                            </svg>
						</div>
						<span class="info" th:text="${motorbike.rentals}"></span> <span class="separator">•</span>
						<span class="info" th:text="${formattedLocation}"></span>
					</div>
					<div class="car-tags">
							<span
							class="tag-item doorstep">Giao xe tận nơi</span> <span
							class="tag-item fast-rent">Đặt xe nhanh</span> <span
							class="tag-item no-mortgage">Miễn thế chấp</span> <span
							class="tag-item hourly-rent">Thuê giờ</span>
					</div>
					<br>
					<br>
					<hr>
					<!--Đặc Điểm-->
					<div class="info-car-desc" id="outsfeatures">
						<h6>Đặc điểm</h6>
						<br>
						<div class="outstanding-features">
							<div class="outstanding-features__item">
								<div class="wrap-svg">
									<svg width="32" height="32" viewBox="0 0 32 32" fill="none"
										xmlns="http://www.w3.org/2000/svg">
                                        <path
											d="M25.9163 7.99992C25.9163 9.05846 25.0582 9.91659 23.9997 9.91659C22.9411 9.91659 22.083 9.05846 22.083 7.99992C22.083 6.94137 22.9411 6.08325 23.9997 6.08325C25.0582 6.08325 25.9163 6.94137 25.9163 7.99992Z"
											stroke="#5FCF86" stroke-width="1.5"></path>
                                        <circle cx="23.9997"
											cy="23.9999" r="1.91667" stroke="#5FCF86" stroke-width="1.5"></circle>
                                        <path
											d="M17.9163 7.99992C17.9163 9.05846 17.0582 9.91659 15.9997 9.91659C14.9411 9.91659 14.083 9.05846 14.083 7.99992C14.083 6.94137 14.9411 6.08325 15.9997 6.08325C17.0582 6.08325 17.9163 6.94137 17.9163 7.99992Z"
											stroke="#5FCF86" stroke-width="1.5"></path>
                                        <path
											d="M17.9163 23.9999C17.9163 25.0585 17.0582 25.9166 15.9997 25.9166C14.9411 25.9166 14.083 25.0585 14.083 23.9999C14.083 22.9414 14.9411 22.0833 15.9997 22.0833C17.0582 22.0833 17.9163 22.9414 17.9163 23.9999Z"
											stroke="#5FCF86" stroke-width="1.5"></path>
                                        <circle cx="7.99967"
											cy="7.99992" r="1.91667" stroke="#5FCF86" stroke-width="1.5"></circle>
                                        <path
											d="M10.1025 26.6666V21.3333H7.99837C7.59559 21.3333 7.25184 21.4053 6.96712 21.5494C6.68066 21.6918 6.46278 21.894 6.31348 22.1562C6.16244 22.4166 6.08691 22.723 6.08691 23.0754C6.08691 23.4296 6.1633 23.7343 6.31608 23.9895C6.46886 24.243 6.69021 24.4374 6.98014 24.5728C7.26834 24.7083 7.6173 24.776 8.02702 24.776H9.43587V23.8697H8.20931C7.99403 23.8697 7.81521 23.8402 7.67285 23.7812C7.53049 23.7221 7.42459 23.6336 7.35514 23.5155C7.28396 23.3975 7.24837 23.2508 7.24837 23.0754C7.24837 22.8984 7.28396 22.7491 7.35514 22.6275C7.42459 22.506 7.53136 22.414 7.67546 22.3515C7.81782 22.2872 7.9975 22.2551 8.21452 22.2551H8.97493V26.6666H10.1025ZM7.22233 24.2395L5.89681 26.6666H7.1416L8.43848 24.2395H7.22233Z"
											fill="#5FCF86"></path>
                                        <path
											d="M24 10.6665V15.9998M24 21.3332V15.9998M16 10.6665V21.3332M8 10.6665V15.4998C8 15.776 8.22386 15.9998 8.5 15.9998H24"
											stroke="#5FCF86" stroke-width="1.5" stroke-linecap="round"></path>
                                    </svg>
								</div>
								<div class="title">
									<p class="sub">Truyền động</p>
									<p th:text="${motorbike.gearBox}" class="main"></p>
								</div>
							</div>

							<div class="outstanding-features__item">
								<div class="wrap-svg">
									<svg width="32" height="32" viewBox="0 0 32 32" fill="none"
										xmlns="http://www.w3.org/2000/svg">
                                        <path
											d="M24.3337 27.2499H7.66699C7.52892 27.2499 7.41699 27.138 7.41699 26.9999V12.4599C7.41699 12.3869 7.44888 12.3175 7.5043 12.27L14.652 6.14344L14.1639 5.574L14.652 6.14344C14.6973 6.1046 14.755 6.08325 14.8147 6.08325H24.3337C24.4717 6.08325 24.5837 6.19518 24.5837 6.33325V26.9999C24.5837 27.138 24.4717 27.2499 24.3337 27.2499Z"
											stroke="#5FCF86" stroke-width="1.5" stroke-linecap="round"></path>
                                        <path
											d="M12.0001 5.33325L7.42285 9.46712" stroke="#5FCF86"
											stroke-width="1.5" stroke-linecap="round"></path>
                                        <path
											d="M17.888 19.5212L16.7708 15.93C16.5378 15.1812 15.4785 15.1798 15.2436 15.928L14.1172 19.5164C13.7178 20.7889 14.6682 22.0833 16.0019 22.0833C17.3335 22.0833 18.2836 20.7927 17.888 19.5212Z"
											stroke="#5FCF86" stroke-width="1.5" stroke-linecap="round"></path>
                                        <path
											d="M23.2503 3.66675V5.66675C23.2503 5.80482 23.1384 5.91675 23.0003 5.91675H14.667C14.5827 5.91675 14.5365 5.8916 14.5072 5.86702C14.4721 5.83755 14.44 5.78953 14.4245 5.72738C14.4089 5.66524 14.4147 5.60775 14.4318 5.56523C14.4461 5.52975 14.4749 5.48584 14.5493 5.44616L18.2993 3.44616C18.3356 3.42685 18.376 3.41675 18.417 3.41675H23.0003C23.1384 3.41675 23.2503 3.52868 23.2503 3.66675Z"
											stroke="#5FCF86" stroke-width="1.5" stroke-linecap="round"></path>
                                    </svg>
								</div>
								<div class="title">
									<p class="sub">Nhiên liệu</p>
									<p th:text="${motorbike.fuelType}" class="main">
									</p>
								</div>
							</div>
							<div class="outstanding-features__item">
								<div class="wrap-svg">
									<svg width="32" height="32" viewBox="0 0 32 32" fill="none"
										xmlns="http://www.w3.org/2000/svg">
                                        <path
											d="M7.41667 24V23.25H6.66667H4.75V18.0833H6.66667H7.41667V17.3333V15.4167H9.33333H9.64399L9.86366 15.197L12.3107 12.75H24.5833V23.25H22.6667H22.356L22.1363 23.4697L19.6893 25.9167H7.41667V24Z"
											stroke="#5FCF86" stroke-width="1.5" stroke-linecap="round"></path>
                                        <path d="M24 21.3333H28"
											stroke="#5FCF86" stroke-width="1.5"></path>
                                        <path d="M24 18.6665H28"
											stroke="#5FCF86" stroke-width="1.5"></path>
                                        <path
											d="M15.417 7.33325C15.417 6.6429 15.9766 6.08325 16.667 6.08325H20.667C21.3573 6.08325 21.917 6.6429 21.917 7.33325V8.58325H15.417V7.33325Z"
											stroke="#5FCF86" stroke-width="1.5"></path>
                                        <path
											d="M17.333 9.33325V11.9999M19.9997 9.33325V11.9999"
											stroke="#5FCF86" stroke-width="1.5"></path>
                                        <path
											d="M4.66699 26.01L4.66699 15.3308" stroke="#5FCF86"
											stroke-width="1.5" stroke-linecap="round"></path>
                                        <path
											d="M27.3291 23.3384L27.3291 16.6704" stroke="#5FCF86"
											stroke-width="1.5" stroke-linecap="round"></path>
                                    </svg>
								</div>
								<div class="title">
									<p class="sub">Tiêu hao</p>
									<p th:text="${motorbike.fuelConsumption}" class="main col"
										style="display: inline-block;">
										<!-- Fuel consumption value -->
									</p>
									<div style="display: inline-block;">L/KM</div>
								</div>
							</div>
						</div>
					</div>
					<br>
					<hr>
					<div class="info-car-desc" id="outsfeatures">
						<h6>Mô Tả</h6>
						<br>
						<div class="outstanding-features">
							<h3 th:text="${motorbike.make + ' ' + motorbike.model + ' ' + motorbike.year}" class="product-title"> </h3>
							<ul>
								<li th:text="${motorbike.detailBike}"></li>
							</ul>
							
							<!-- ở đây -->
						</div>
					</div>
					<br>
					<hr>
					<div class="info-car-desc" id="outsfeatures">
						<h6>Các tiện nghi khác</h6>
						<br>
						<div class="features-car">
							<ul>
								<li th:text="${motorbike.facilities}"></li>
							</ul>
						</div>
					</div>
					<br>
					<hr>
					<div class="info-car-desc" id="outsfeatures">
						<h6>Giấy tờ thuê xe</h6>
						<br>
						<div class="required-papers">
							<div class="required-papers__item width-100">
								<div class="type__item">
									<div class="wrap-svg">
										<svg width="17" height="16" viewBox="0 0 17 16" fill="none"
											xmlns="http://www.w3.org/2000/svg">
                                            <path
												d="M8.49967 1.33325C4.82634 1.33325 1.83301 4.32659 1.83301 7.99992C1.83301 11.6733 4.82634 14.6666 8.49967 14.6666C12.173 14.6666 15.1663 11.6733 15.1663 7.99992C15.1663 4.32659 12.173 1.33325 8.49967 1.33325ZM8.49967 6.05325C8.22634 6.05325 7.99967 5.83325 7.99967 5.55325C7.99967 5.27992 8.22634 5.05325 8.49967 5.05325C8.77967 5.05325 8.99967 5.27992 8.99967 5.55325C8.99967 5.83325 8.77967 6.05325 8.49967 6.05325ZM8.99967 10.3866C8.99967 10.6666 8.77301 10.8866 8.49967 10.8866C8.22634 10.8866 7.99967 10.6666 7.99967 10.3866V7.27992C7.99967 6.99992 8.22634 6.77992 8.49967 6.77992C8.77301 6.77992 8.99967 6.99992 8.99967 7.27992V10.3866Z"
												fill="#666666"></path>
                                        </svg>
									</div>
									<p class="font-12">Chọn 1 trong 2 hình thức</p>
								</div>
								<div class="type-content">
									<img loading="lazy"
										src="https://n1-cstg.mioto.vn/v4/p/m/icons/papers/gplx_cccd.png">
									<div class="type-name">
										<p>GPLX (đối chiếu) &amp; CCCD (đối chiếu VNeID)</p>
									</div>
								</div>
								<div class="type-content">
									<img loading="lazy"
										src="https://n1-cstg.mioto.vn/v4/p/m/icons/papers/gplx_passport.png">
									<div class="type-name">
										<p>GPLX (đối chiếu) &amp; Passport (giữ lại)</p>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="info-car-desc" id="outsfeatures">
						<h6>Tài sản thuế chấp</h6>
						<br>
						<div class="required-papers">
							<p>Không yêu cầu khách thuê thế chấp Tiền mặt hoặc Xe máy</p>
						</div>
					</div>
					<div class="info-car-desc" id="outsfeatures">
						<h6>Điều Khoản</h6>
						<br>
						<div class="Dieukhoang">
							<p>Quy định khác:</p>
							<br>
							<ul>
								<li>Sử dụng xe đúng mục đích.</li>
								<li>Không sử dụng xe thuê vào mục đích phi pháp, trái pháp
									luật.</li>
								<li>Không sử dụng xe thuê để cầm cố, thế chấp.</li>
								<li>Không hút thuốc, nhả kẹo cao su, xả rác trong xe.</li>
								<li>Không chở hàng quốc cấm dễ cháy nổ.</li>
								<li>Không chở hoa quả, thực phẩm nặng mùi trong xe.</li>
								<li>Khi trả xe, nếu xe bẩn hoặc có mùi trong xe, khách hàng
									vui lòng vệ sinh xe sạch sẽ hoặc gửi phụ thu phí vệ sinh xe.</li>
							</ul>
							<p>Trân trọng cảm ơn, chúc quý khách hàng có những chuyến đi
								tuyệt vời!</p>
						</div>
					</div>
					<hr>
					<div class="info-car-desc" id="outsfeatures">
						<div class="reviews">
							<div class="rate-review">
								<div class="wrap-svg">
									<svg class="star-rating" width="16" height="17"
										viewBox="0 0 16 17" fill="none"
										xmlns="http://www.w3.org/2000/svg">
                                        <path
											d="M14.6667 7.23331C14.7333 6.89998 14.4667 6.49998 14.1333 6.49998L10.3333 5.96665L8.59999 2.49998C8.53333 2.36665 8.46666 2.29998 8.33333 2.23331C7.99999 2.03331 7.59999 2.16665 7.39999 2.49998L5.73333 5.96665L1.93333 6.49998C1.73333 6.49998 1.59999 6.56665 1.53333 6.69998C1.26666 6.96665 1.26666 7.36665 1.53333 7.63331L4.26666 10.3L3.59999 14.1C3.59999 14.2333 3.59999 14.3666 3.66666 14.5C3.86666 14.8333 4.26666 14.9666 4.59999 14.7666L7.99999 12.9666L11.4 14.7666C11.4667 14.8333 11.6 14.8333 11.7333 14.8333C11.8 14.8333 11.8 14.8333 11.8667 14.8333C12.2 14.7666 12.4667 14.4333 12.4 14.0333L11.7333 10.2333L14.4667 7.56665C14.6 7.49998 14.6667 7.36665 14.6667 7.23331Z"
											fill="#FFC634"></path>
                                    </svg>
								</div>
								<span class="info" th:text="${#numbers.formatDecimal(averageRating, 1, 1)}"></span>
							</div>
							<span class="dot">•</span>
							<p class="total-review" th:text="${totalReviews} + ' đánh giá'"></p>
						</div>
<!-- feedback  -->
						<div class="list-reviews">
						    <div class="item-review" th:each="feedback : ${feedbacks}">
						        <div class="avatar">
						            <img src="https://n1-cstg.mioto.vn/m/avatars/avatar-3.png" alt="User Avatar">
						        </div>
						        <div class="info">
						            <h6 th:text="${feedback.username}">Tên Người Đánh Giá</h6>
						            <div class="rate">
						                <div class="star-container" th:each="i : ${#numbers.sequence(1, feedback.rating)}">
						                    <svg viewBox="0 0 51 48" class="widget-svg" style="width: 17px; height: 17px;">
						                        <path class="star" d="m25,1 6,17h18l-14,11 5,17-15-10-15,10 5-17-14-11h18z"
						                              style="fill: rgb(255, 198, 52);"></path>
						                    </svg>
						                </div>
						            </div>
						            <p class="time" th:text="${feedback.feedbackDate}">25/09/2024</p>
						            <p class="review-comment" th:text="${feedback.comment}">Nội dung đánh giá</p>
						        </div>
						    </div>    
						</div>
<!-- feedback end -->				
					</div>
				</div>
				<div class="sidebar-detail">
					<div class="insurance success cardetail">
						<div class="insurance-header">
							<svg width="48" height="48" viewBox="0 0 24 24" fill="none"
								xmlns="http://www.w3.org/2000/svg">
                                <path
									d="M12 2L3 5V11C3 16.55 7.58 21.74 12 23C16.42 21.74 21 16.55 21 11V5L12 2Z"
									fill="#5FCF86" />
                                <path
									d="M12 2L3 5V11C3 16.55 7.58 21.74 12 23C16.42 21.74 21 16.55 21 11V5L12 2Z"
									stroke="#4CAF50" stroke-width="2" />
                                <path d="M9 12L11 14L15 10"
									stroke="white" stroke-width="2" stroke-linecap="round"
									stroke-linejoin="round" />
                            </svg>
							<p class="insurance-title">Bảo hiểm thuê xe</p>
						</div>
						<div class="content">
							<p class="note">Chuyến đi có mua bảo hiểm. Khách thuê bồi
								thường tối đa 2.000.000 VNĐ trong trường hợp có sự cố ngoài ý
								muốn.</p>
							<p class="desc">
								<a class="info"><strong>Xem chi tiết</strong></a>
							</p>
						</div>
					</div>
					<br>
					
					<div class="rent-box" id="cardetail" style="position: relative;">
						<div class="price">
							<div class="price-discount" th:if="${motorbike.percentDiscount != null and motorbike.percentDiscount > 0}">
							    <!-- Giá gốc (dailyRate) -->
							    <p class="origin">
							        <span th:text="${#numbers.formatInteger(motorbike.dailyRate, 3, 'POINT') + 'đ'}"></span>
							    </p>
							    <!-- Thẻ giảm giá -->
							    <span th:text="'-' + ${#numbers.formatInteger(motorbike.percentDiscount, 2)} + '%'" class="tag-item discount"></span>
							</div>

							<!-- Tính giá sau khi giảm -->
							<h4>
								<!-- Giá đã giảm = giá gốc - (giá gốc * % giảm giá) -->
								<span th:text="${#numbers.formatInteger(motorbike.dailyRate * ( 1 - (motorbike.percentDiscount / 100)), 3, 'POINT')}"></span>đ
								<span class="inner-h"> /ngày</span>
							</h4>
						</div>
						
                        <div class="date-time-form" id="dateTimeForm">
    <div class="form-item"><label>Nhận xe </label>
        <div class="wrap-date-time">
            <span class="value" id="pickUpDateTime">08-10-2024 | 21:00</span>
        </div>
    </div>
    <hr>
    <div class="form-item"><label>Trả xe</label>
        <div class="wrap-date-time">
            <span class="value" id="returnDateTime">09-10-2024 | 20:00</span>
        </div>
    </div>
</div>

<!-- modal -->
<div id="uniqueModal" class="unique-modal" style="display: none;">
    <div class="unique-modal-content">
        <span class="unique-modal-close" id="closeModal">&times;</span>

        <h2>Chọn ngày và giờ nhận xe</h2>
        
        <div class="date-time-container">
            <div class="date-picker">
                <label for="modalPickUpDate">Chọn ngày:</label> 
                <input type="date" id="modalPickUpDate" class="unique-modal-input">
            </div>
            <div class="time-picker">
                <label for="modalPickUpTime">Giờ:</label>
                <select id="modalPickUpTime" class="unique-modal-input">
                    <!-- Các tùy chọn giờ sẽ được tạo bằng JavaScript -->
                </select>
            </div>
        </div>
        
        <h2>Chọn ngày và giờ trả xe</h2>
        
        <div class="date-time-container">
            <div class="date-picker">
                <label for="modalReturnDate">Chọn ngày:</label> 
                <input type="date" id="modalReturnDate" class="unique-modal-input">
            </div>
            <div class="time-picker">
                <label for="modalReturnTime">Giờ:</label>
                <select id="modalReturnTime" class="unique-modal-input">
                    <!-- Các tùy chọn giờ sẽ được tạo bằng JavaScript -->
                </select>
            </div>
        </div>
        <!-- Add this inside the modal content -->
		<p><strong>Tổng số thời gian chọn thuê:</strong> <span id="totalRentalHours">0</span> giờ</p>
        
        <button id="saveDateTime" class="btn-unique-save">Tiếp tục</button>
        <p id="errorMessage" style="color: red; display: none;">Thời gian thuê phải tối thiểu là 2 giờ.</p>
    </div>
</div>

<script th:inline="javascript">
//DOM Elements
const elements = {
    form: document.getElementById("dateTimeForm"),
    modal: document.getElementById("uniqueModal"),
    closeBtn: document.getElementById("closeModal"),
    saveBtn: document.getElementById("saveDateTime"),
    errorMsg: document.getElementById("errorMessage"),
    pickUpDateTime: document.getElementById("pickUpDateTime"),
    returnDateTime: document.getElementById("returnDateTime"),
    totalRentalHours: document.getElementById("totalRentalHours"),
    modalInputs: {
        pickUpDate: document.getElementById("modalPickUpDate"),
        pickUpTime: document.getElementById("modalPickUpTime"),
        returnDate: document.getElementById("modalReturnDate"),
        returnTime: document.getElementById("modalReturnTime")
    }
};


// Constants
const TIME_CONFIG = {
    START_HOUR: 6,
    END_HOUR: 23,
    INTERVAL_MINUTES: 30,
    MIN_RENTAL_HOURS: 2
};

// Utility Functions
const formatDateTime = (date, time) => {
    const [year, month, day] = date.split("-");
    return `${day}-${month}-${year} | ${time}`;
};

const roundToNext30Minutes = (date) => {
    const minutes = date.getMinutes();
    const roundedDate = new Date(date);
    roundedDate.setMinutes(minutes < 30 ? 30 : 0);
    roundedDate.setSeconds(0, 0);
    if (minutes >= 30) {
        roundedDate.setHours(roundedDate.getHours() + 1);
    }
    return roundedDate;
};

const getTimeString = (date) => {
    return date.toTimeString().slice(0, 5);
};

const create30MinIntervalOptions = (selectElement, selectedTime) => {
    selectElement.innerHTML = '';
    const time = new Date();
    time.setHours(TIME_CONFIG.START_HOUR, 0, 0, 0);
    const endTime = new Date();
    endTime.setHours(TIME_CONFIG.END_HOUR, 0, 0, 0);

    while (time <= endTime) {
        const option = document.createElement("option");
        const timeString = getTimeString(time);
        option.value = timeString;
        option.text = time.toLocaleTimeString("en-GB", { 
            hour: "2-digit", 
            minute: "2-digit" 
        });
        option.selected = timeString === selectedTime;
        selectElement.appendChild(option);
        time.setMinutes(time.getMinutes() + TIME_CONFIG.INTERVAL_MINUTES);
    }
};

// Core Functions
const updateTotalRentalHours = () => {
    const { pickUpDate, pickUpTime, returnDate, returnTime } = elements.modalInputs;
    
    if (pickUpDate.value && pickUpTime.value && returnDate.value && returnTime.value) {
        const pickUpDateTime = new Date(`${pickUpDate.value}T${pickUpTime.value}`);
        const returnDateTime = new Date(`${returnDate.value}T${returnTime.value}`);
        
        const diffInHours = (returnDateTime - pickUpDateTime) / (1000 * 60 * 60);
        elements.totalRentalHours.textContent = diffInHours.toFixed(2);
        return diffInHours;
    }
    
    elements.totalRentalHours.textContent = "0";
    return 0;
};

const initializeModal = () => {
    // Get current date and time
    const now = new Date();
    const tomorrow = new Date(now);
    tomorrow.setDate(tomorrow.getDate() + 1);
    
    // Round current time to next 30 minutes
    const roundedNow = roundToNext30Minutes(now);
    const currentTime = getTimeString(roundedNow);
    
    // Set pickup date and time
    const pickUpDate = now.toISOString().slice(0, 10);
    elements.modalInputs.pickUpDate.value = pickUpDate;
    elements.modalInputs.pickUpDate.min = pickUpDate;
    
    // Set return date and time
    const returnDate = tomorrow.toISOString().slice(0, 10);
    elements.modalInputs.returnDate.value = returnDate;
    elements.modalInputs.returnDate.min = pickUpDate;
    
    // Create time options and select current time
    create30MinIntervalOptions(elements.modalInputs.pickUpTime, currentTime);
    create30MinIntervalOptions(elements.modalInputs.returnTime, currentTime);
    
    // Update display
    elements.pickUpDateTime.textContent = formatDateTime(pickUpDate, currentTime);
    elements.returnDateTime.textContent = formatDateTime(returnDate, currentTime);
    
    // Calculate initial rental hours
    updateTotalRentalHours();
};

initializeModal();

const updateDateTime = () => {
    const { pickUpDate, pickUpTime, returnDate, returnTime } = elements.modalInputs;
    
    elements.pickUpDateTime.textContent = formatDateTime(pickUpDate.value, pickUpTime.value);
    elements.returnDateTime.textContent = formatDateTime(returnDate.value, returnTime.value);
};

// Event Handlers
const handleSave = () => {
    const diffInHours = updateTotalRentalHours();
    
    if (diffInHours < TIME_CONFIG.MIN_RENTAL_HOURS) {
        elements.errorMsg.style.display = "block";
        return;
    }
    
    elements.errorMsg.style.display = "none";
    updateDateTime();
    elements.modal.style.display = "none";
};

// Event Listeners
elements.form.addEventListener("click", () => {
    initializeModal();
    elements.modal.style.display = "flex";
});

elements.closeBtn.addEventListener("click", () => {
    elements.modal.style.display = "none";
});

window.addEventListener("click", (event) => {
    if (event.target === elements.modal) {
        elements.modal.style.display = "none";
    }
});

elements.saveBtn.addEventListener("click", handleSave);

// Add change listeners for date/time inputs
Object.values(elements.modalInputs).forEach(input => {
    input.addEventListener("change", updateTotalRentalHours);
});
</script>




						<div class="form-group">
    <label for="address-input" class="form-label">Địa điểm giao nhận xe</label>
    <div class="input-group">
        <input type="text" id="address-input" class="form-control" placeholder="Nhập địa chỉ" aria-label="Nhập địa chỉ">
    </div>
</div>
						
						
						<div class="line-page"></div>
						<div class="price-container">
							<div class="price-item">
								<p class="df-align-center">
									<span>Đơn giá thuê</span><span class="tooltip"><span
										class="wrap-svg"><svg width="24" height="24"
												viewBox="0 0 24 24" fill="none"
												xmlns="http://www.w3.org/2000/svg">
                                                <path
													d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"
													stroke="black" stroke-width="1.5" stroke-linecap="round"
													stroke-linejoin="round"></path>
                                                <path
													d="M9.08984 9.00008C9.32495 8.33175 9.789 7.76819 10.3998 7.40921C11.0106 7.05024 11.7287 6.91902 12.427 7.03879C13.1253 7.15857 13.7587 7.52161 14.2149 8.06361C14.6712 8.60561 14.9209 9.2916 14.9198 10.0001C14.9198 12.0001 11.9198 13.0001 11.9198 13.0001"
													stroke="black" stroke-width="1.5" stroke-linecap="round"
													stroke-linejoin="round"></path>
                                                <path d="M12 17H12.01"
													stroke="black" stroke-width="1.5" stroke-linecap="round"
													stroke-linejoin="round"></path>
                                            </svg></span></span>
								</p>
								<p class="cost">
									<span th:text="${#numbers.formatInteger(motorbike.dailyRate * (1 - (motorbike.percentDiscount / 100)), 3, 'POINT')}"></span>đ/ ngày <!-- Giá thuê theo ngày -->
								</p>
							</div>
							<div class="price-item">
								<p class="df-align-center">
									Bảo hiểm thuê xe<span class="tooltip"><span
										class="wrap-svg"><svg width="24" height="24"
												viewBox="0 0 24 24" fill="none"
												xmlns="http://www.w3.org/2000/svg">
                                                <path
													d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"
													stroke="black" stroke-width="1.5" stroke-linecap="round"
													stroke-linejoin="round"></path>
                                                <path
													d="M9.08984 9.00008C9.32495 8.33175 9.789 7.76819 10.3998 7.40921C11.0106 7.05024 11.7287 6.91902 12.427 7.03879C13.1253 7.15857 13.7587 7.52161 14.2149 8.06361C14.6712 8.60561 14.9209 9.2916 14.9198 10.0001C14.9198 12.0001 11.9198 13.0001 11.9198 13.0001"
													stroke="black" stroke-width="1.5" stroke-linecap="round"
													stroke-linejoin="round"></path>
                                                <path d="M12 17H12.01"
													stroke="black" stroke-width="1.5" stroke-linecap="round"
													stroke-linejoin="round"></path>
                                            </svg></span></span>
								</p>
								<p class="cost">
									<span th:text="${#numbers.formatInteger(motorbike.dailyRate * (1 - motorbike.percentDiscount / 100) * 0.14, 3, 'POINT')}"></span>đ/ ngày <!-- bảo hiểm thuê xe 1 ngày = Giá thuê theo ngày * 0,14 -->
								</p>
							</div>
							<div class="price-item">
    
</div>

<div class="line-page"></div>
<div class="price-item">
    <p>Tổng cộng</p>
    <p class="cost">
        <span value="0" id="dailyRateDisplay"></span>
    </p>
</div>

<script th:inline="javascript">
const VAT_PERCENTAGE = 0.14;
let motorbikeDailyRate = /*[[${motorbike.dailyRate}]]*/ 0;
let motorbikePercentDiscount = /*[[${motorbike.percentDiscount}]]*/ 0;
const hoursElement = document.getElementById("totalRentalHours");


let currentDiscountPercentage = 0; //"finalRentRate"

// Hàm tính toán giá thuê
function calculateRentalRate(dailyRate, percentDiscount, hours) {
  if (dailyRate == null || percentDiscount == null) {
    return "N/A";
  }

  const baseDailyRate = dailyRate * (1 - (percentDiscount / 100));
  console.log("Base Daily Rate: ", baseDailyRate);
  let rentalRate;
  const fullDays = Math.floor(hours / 24);
  const remainingHours = hours % 24;

  rentalRate = baseDailyRate * fullDays;

  if (remainingHours > 0) {
    if (remainingHours <= 4) {
      rentalRate += baseDailyRate * 0.4;
    } else if (remainingHours <= 12) {
      rentalRate += baseDailyRate * 0.4 + (Math.floor((remainingHours - 4) / 2) * baseDailyRate * 0.2);
      if (rentalRate > (fullDays + 1) * baseDailyRate) rentalRate = (fullDays + 1) * baseDailyRate;
    } else {
      rentalRate += baseDailyRate;
    }
  }
  console.log("Rental Rate: ", rentalRate);
  
  return rentalRate + (rentalRate * VAT_PERCENTAGE);
}

//Cập nhật giá thuê
function updateRentalRate() {
  const hours = parseFloat(hoursElement.textContent) || 0;
  const rentalRate = calculateRentalRate(motorbikeDailyRate, motorbikePercentDiscount, hours); 
  
  document.getElementById("dailyRateDisplay").textContent = typeof rentalRate === 'number' ? new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(rentalRate) : rentalRate;
}

//Sử dụng MutationObserver để theo dõi thay đổi của hoursElement
const observer = new MutationObserver(updateRentalRate);
observer.observe(hoursElement, { childList: true, characterData: true, subtree: true });

//Khởi tạo giá trị ban đầu
updateRentalRate();
</script>
</script>




							
							<div class="line-page"></div>

								<!-- Nút kích hoạt popup -->
<div class="promotion-radio__item" data-bs-toggle="modal" data-bs-target="#promoModal">
    <div class="custom-radio">
        <input type="radio" id="code" name="promo" value="1">
        <label for="code">
            <div class="promo-text">
                <div class="wrap-svg">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21.3 10.8394C21.69 10.8394 22 10.5294 22 10.1394V9.20938C22 5.10938 20.75 3.85938 16.65 3.85938H7.35C3.25 3.85937 2 5.10938 2 9.20938V9.67938C2 10.0694 2.31 10.3794 2.7 10.3794C3.6 10.3794 4.33 11.1094 4.33 12.0094C4.33 12.9094 3.6 13.6294 2.7 13.6294C2.31 13.6294 2 13.9394 2 14.3294V14.7994C2 18.8994 3.25 20.1494 7.35 20.1494H16.65C20.75 20.1494 22 18.8994 22 14.7994C22 14.4094 21.69 14.0994 21.3 14.0994C20.4 14.0994 19.67 13.3694 19.67 12.4694C19.67 11.5694 20.4 10.8394 21.3 10.8394ZM9 8.87938C9.55 8.87938 10 9.32938 10 9.87938C10 10.4294 9.56 10.8794 9 10.8794C8.45 10.8794 8 10.4294 8 9.87938C8 9.32938 8.44 8.87938 9 8.87938ZM15 15.8794C14.44 15.8794 13.99 15.4294 13.99 14.8794C13.99 14.3294 14.44 13.8794 14.99 13.8794C15.54 13.8794 15.99 14.3294 15.99 14.8794C15.99 15.4294 15.56 15.8794 15 15.8794ZM15.9 9.47937L9.17 16.2094C9.02 16.3594 8.83 16.4294 8.64 16.4294C8.45 16.4294 8.26 16.3594 8.11 16.2094C7.82 15.9194 7.82 15.4394 8.11 15.1494L14.84 8.41938C15.13 8.12938 15.61 8.12938 15.9 8.41938C16.19 8.70938 16.19 9.18937 15.9 9.47937Z" fill="#5FCF86"/>
                    </svg>
                </div>
            </div>
            <div class="promo-price">
                <div class="wrap-svg">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14.8299 11.2897L10.5899 7.0497C10.497 6.95598 10.3864 6.88158 10.2645 6.83081C10.1427 6.78004 10.012 6.75391 9.87994 6.75391C9.74793 6.75391 9.61723 6.78004 9.49537 6.83081C9.37351 6.88158 9.26291 6.95598 9.16994 7.0497C8.98369 7.23707 8.87915 7.49052 8.87915 7.7547C8.87915 8.01889 8.98369 8.27234 9.16994 8.4597L12.7099 11.9997L9.16994 15.5397C8.98369 15.7271 8.87915 15.9805 8.87915 16.2447C8.87915 16.5089 8.98369 16.7623 9.16994 16.9497C9.26338 17.0424 9.3742 17.1157 9.49604 17.1655C9.61787 17.2152 9.74834 17.2405 9.87994 17.2397C10.0115 17.2405 10.142 17.2152 10.2638 17.1655C10.3857 17.1157 10.4965 17.0424 10.5899 16.9497L14.8299 12.7097C14.9237 12.6167 14.9981 12.5061 15.0488 12.3843C15.0996 12.2624 15.1257 12.1317 15.1257 11.9997C15.1257 11.8677 15.0996 11.737 15.0488 11.6151C14.9981 11.4933 14.9237 11.3827 14.8299 11.2897Z" fill="#263D2A"/>
                    </svg>
                </div>
            </div>
          	<div id="selectedPromoDisplay">
                <p class="mb-0">Mã khuyến mãi</p>
                <div class="selected-promo" style="display: none;">
                    <span class="selected-promo-code"></span>
                    <span class="selected-promo-description"></span>
                    <span class="promo-cancel" style="cursor: pointer; color: red; margin-left: 20px;">&times;</span>
                </div>
            </div>

            <script th:inline="javascript">
            
            const promoCodes = /*[[${discounts}]]*/ [];

          //Hàm tính tổng: giá thuê - mã giảm giá
          function calculateTotalRate(rentalRate, hours) {
              rentalRate = calculateRentalRate(motorbikeDailyRate, motorbikePercentDiscount, hours); 
              let totalRate = rentalRate;
              
              totalRate -= (totalRate * currentDiscountPercentage) / 100; 
              return totalRate;
          }  

          // Hàm hiển thị danh sách mã giảm giá
          function displayPromoCodes() {
              const promoList = document.getElementById('promoCodesList');
              promoList.innerHTML = '';
              
              promoCodes.forEach(promo => {
                  const promoItem = document.createElement('div');
                  promoItem.className = 'promo-code-item';
                  promoItem.innerHTML = `
                      <div class="promo-code-info">
                          <div class="promo-code-value">${promo.discountCode}</div>
                          <div class="promo-code-description">${promo.description}</div>
                          <div id="discountPercentage" value="${promo.discountPercentage}">Giảm: ${promo.discountPercentage}%</div>
                      </div>
                      <div class="promo-code-status">${promo.status}</div>
                  `;
                  
                  promoItem.addEventListener('click', () => {
                      applyPromoCode(promo);
                  });
                  
                  promoList.appendChild(promoItem);
              });
          }

          // Hàm tính toán tổng giá
          function updateTotalPriceWithDiscount(discountPercentage) {
              const hoursElement = document.getElementById("totalRentalHours");
              const hours = parseFloat(hoursElement.textContent) || 0;
              const rentalRate = calculateRentalRate(motorbikeDailyRate, motorbikePercentDiscount, hours); 
              
              // Nếu có mã giảm giá, tính toán giảm giá, nếu không thì giữ nguyên giá gốc
              const discountAmount = discountPercentage > 0 ? (rentalRate * discountPercentage) / 100 : 0;
              const totalRate = rentalRate - discountAmount;

              // Cập nhật tổng giá vào giao diện
              console.log("Discount Amount:", discountAmount);
              console.log("Total Price After Discount:", totalRate);

              // Hiển thị tổng giá mới
              const totalRateElement = document.getElementById('totalRatePrice');
              if (totalRateElement) {
                  totalRateElement.textContent = typeof totalRate === 'number' ? 
                      new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(totalRate) : totalRate;
              }
          }

          // Hàm áp dụng mã giảm giá
          function applyPromoCode(promo) {
              document.getElementById('code').checked = true;

              const selectedPromoDisplay = document.getElementById('selectedPromoDisplay');
              const selectedPromo = selectedPromoDisplay.querySelector('.selected-promo');
              const selectedPromoCode = selectedPromoDisplay.querySelector('.selected-promo-code');
              const selectedPromoDescription = selectedPromoDisplay.querySelector('.selected-promo-description');

              console.log("Selected Discount Percentage:", promo.discountPercentage);

              selectedPromoDisplay.querySelector('p').style.display = 'none';
              selectedPromo.style.display = 'flex';
              selectedPromoCode.textContent = promo.discountCode;
              selectedPromoDescription.textContent = `(Giảm ${promo.discountPercentage}%)`;

              // Gọi hàm tính tổng giá với discountPercentage
              updateTotalPriceWithDiscount(promo.discountPercentage);

              const modal = bootstrap.Modal.getInstance(document.getElementById('promoModal'));
              modal.hide();
          }

          // Hàm hủy bỏ mã giảm giá
          function cancelPromoCode() {
              document.getElementById('code').checked = false;

              const selectedPromoDisplay = document.getElementById('selectedPromoDisplay');
              selectedPromoDisplay.querySelector('p').style.display = 'block';
              const selectedPromo = selectedPromoDisplay.querySelector('.selected-promo');
              selectedPromo.style.display = 'none';

              selectedPromo.querySelector('.selected-promo-code').textContent = '';
              selectedPromo.querySelector('.selected-promo-description').textContent = '';
              
              // Cập nhật lại giá gốc khi không có mã giảm giá
              updateTotalPriceWithDiscount(0);
          }

          // Khi tài liệu HTML đã sẵn sàng
          document.addEventListener('DOMContentLoaded', () => {
              displayPromoCodes();
              
              // Thiết lập MutationObserver để theo dõi thay đổi giờ thuê
              const dailyRateDisplay = document.getElementById("dailyRateDisplay");
              if (dailyRateDisplay) {
                  const observer = new MutationObserver((mutations) => {
                      // Lấy giá trị discount hiện tại
                      const selectedPromo = document.querySelector('.selected-promo');
                      let currentDiscount = 0;
                      
                      if (selectedPromo && selectedPromo.style.display !== 'none') {
                          const discountText = document.querySelector('.selected-promo-description').textContent;
                          currentDiscount = parseInt(discountText.match(/\d+/)[0]) || 0;
                      }
                      
                      // Cập nhật giá với discount hiện tại
                      updateTotalPriceWithDiscount(currentDiscount);
                  });

                  // Cấu hình observer để theo dõi nội dung và cả cây con
                  observer.observe(dailyRateDisplay, { 
                      childList: true, 
                      characterData: true, 
                      subtree: true 
                  });
              }

              // Khởi tạo giá ban đầu
              updateTotalPriceWithDiscount(0);
              
              // Thêm sự kiện cho nút hủy mã giảm giá
              const promoCancelBtn = document.querySelector('.promo-cancel');
              if (promoCancelBtn) {
                  promoCancelBtn.addEventListener('click', cancelPromoCode);
              }

              const driverCheckbox = document.getElementById('driverCheckbox');
              if (driverCheckbox) {
                driverCheckbox.addEventListener("change", function() {
                  const selectedPromo = document.querySelector('.selected-promo');
                  let currentDiscount = 0;
                  
                  if (selectedPromo && selectedPromo.style.display !== 'none') {
                    const discountText = document.querySelector('.selected-promo-description').textContent;
                    currentDiscount = parseInt(discountText.match(/\d+/)[0]) || 0;
                  }
                  
                  updateTotalPriceWithDiscount(currentDiscount);
                });
              }
             
          });
</script>


        </label>
    </div>
</div>
                    
<!-- Modal Popup -->
<div class="modal fade" id="promoModal" tabindex="-1" aria-labelledby="promoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="promoModalLabel">Chọn mã giảm giá</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div id="promoCodesList">
                    <!-- Danh sách mã giảm giá sẽ được thêm vào đây -->
                </div>
            </div>
        </div>
    </div>
</div>
								
								


								<div class="line-page"></div>
								
							<div class="price-item total">
							    <p>Thành tiền</p>
							    <p class="cost">
							        <span id="totalRatePrice"></span>
							    </p>
							</div>
							
							<script type="text/javascript">
							
				                
							</script>

						</div>
						
						<!-- Button -->
						
<a class="btn btn-primary btn--m width-100" id="rentButton" data-bs-toggle="modal" data-bs-target="#rentModal">
    <div class="wrap-svg">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12.9733 7.70015L8.46667 14.2668C8.29334 14.5268 8.01335 14.6668 7.71335 14.6668C7.62002 14.6668 7.52667 14.6535 7.43334 14.6268C7.05334 14.5068 6.79335 14.1668 6.79335 13.7735V10.0135C6.79335 9.86015 6.64667 9.72682 6.46667 9.72682L3.78001 9.6935C3.44001 9.6935 3.12668 9.50016 2.97335 9.20682C2.82668 8.92016 2.84668 8.5735 3.03335 8.30017L7.53335 1.7335C7.76001 1.40016 8.18001 1.25349 8.56668 1.37349C8.94668 1.49349 9.20668 1.83349 9.20668 2.22682V5.98683C9.20668 6.14017 9.35335 6.2735 9.53335 6.2735L12.22 6.30682C12.56 6.30682 12.8733 6.49349 13.0267 6.79349C13.1733 7.08016 13.1533 7.42682 12.9733 7.70015Z" fill="#FFC634"></path>
        </svg>
    </div>CHỌN THUÊ
</a>


<!-- Modal -->
<div class="modal fade" id="rentModal" tabindex="-1" aria-labelledby="rentModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="rentModalLabel">Thông tin thuê xe</h2>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
            <br> 
                <div class="row">
                    <div class="col-md-8 left-align-info">
    <p><strong>Họ Tên:</strong> 
        <span th:text="${loggedAcc != null && loggedAcc.fullName != null && loggedAcc.fullName != '' ? loggedAcc.fullName : 'Chưa có tên'}" id="fullName"></span>
    </p>
    <p><strong>SĐT:</strong> 
        <span th:text="${loggedAcc != null && loggedAcc.phoneNumber != null && loggedAcc.phoneNumber != '' ? loggedAcc.phoneNumber : 'Chưa có số điện thoại'}" id="sdt"></span>
    </p>					
    <p><strong>Thời gian nhận xe:</strong> <span id="pickupTime"></span></p>
    <p><strong>Thời gian trả xe:</strong> <span id="returnTime"></span></p>
    <p><strong>Tổng số giờ thuê:</strong> <span id="rentalHours"></span></p>
    <p><strong>Địa chỉ:</strong> <span id="rentalAddress"></span></p>
    <p><strong>Mã giảm giá:</strong> <span id="promoCode"></span></p>
    <p><span id="notes">Ghi Chú</span><br />
	<textarea id="notes-input" rows="6" style="width:70%; resize: vertical;" placeholder="Nhập nội dung.."></textarea>
    </p>
	<br> <hr>
	<p><strong>Tổng thanh toán: </strong> <span value="0" id="finalRentRate" class="float-end text-danger fw-bold"></span></p>

    </p>
</div>

                    <div class="col-md-4 text-center">
					    <label>Hình thức thanh toán :</label> <br>
					    <div class="form-check form-check-inline">
					        <input class="form-check-input" type="radio" name="paymentOption" id="postpay" value="postpay" checked>
					        <label class="form-check-label" for="prepay">Trả trước</label>
					    </div>
					    <div class="form-check form-check-inline">
					        <input class="form-check-input" type="radio" name="paymentOption" id="prepay" value="prepay">
					        <label class="form-check-label" for="postpay">Trả sau</label>
					    </div>
					    <br><br>
					
					    <div id="postpayMessage" style="display: none;">
					        <p class="text-warning">Lưu ý: Bạn sẽ thanh toán sau khi trả xe. Hãy chắc chắn rằng bạn đã hoàn tất việc trả xe đúng giờ.</p>
					    </div>
					
					    <div class="qr-code-container border p-3" style="border-radius: 5px;">
					        <img id="qrImage" src="${qrImageUrl}" alt="Mã QR" class="img-fluid mb-3" />
					        <hr>
					        <br>
					        <p class="text-muted fs-5">Ghi Chú:</p>
					        <p id="qrText" class="text-muted fs-6"></p>
					    </div>
					</div>

                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                <button type="button" class="btn btn-primary" id="confirmRentButton">Xác nhận thuê</button>
            </div>
        </div>
    </div>
</div>

<script th:inline="javascript">
document.addEventListener('DOMContentLoaded', function() {
    // Helper Functions
    const getElement = id => document.getElementById(id);
    const getValue = (id, defaultValue = '') => getElement(id)?.value?.trim() || defaultValue;
    const getText = (id, defaultValue = '') => getElement(id)?.textContent?.trim() || defaultValue;

    // Constants
    const BANK_INFO = {
        BANK_ID: "MB",
        ACCOUNT_NO: "3666116122004",
        ACCOUNT_NAME: "RENTALCAR"
    };

    // Elements
    const elements = {
        rentButton: getElement("rentButton"),
        rentModal: getElement("rentModal"),
        prepayRadio: getElement("prepay"),
        postpayRadio: getElement("postpay"),
        qrContainer: document.querySelector(".qr-code-container"),
        postpayMessage: getElement("postpayMessage")
    };

    // Payment type handlers
    function togglePaymentUI(showQR) {
        elements.qrContainer.style.display = showQR ? "block" : "none";
        elements.postpayMessage.style.display = showQR ? "none" : "block";
    }

    elements.prepayRadio?.addEventListener("change", () => togglePaymentUI(true));
    elements.postpayRadio?.addEventListener("change", () => togglePaymentUI(false));

    // Generate booking code
    function generateBookingCode(motorbikeId, accId, fullName, pickUpDateTime, hours) {
        const normalizedName = fullName
            .normalize("NFD")
            .replace(/[\u0300-\u036f]/g, "")
            .replace(/\s+/g, "")
            .toUpperCase();
        
        const pickUpFormatted = moment(pickUpDateTime).format("YYMMDD");
        const motorbikeIdString = String(motorbikeId).padStart(4, '0');
        const roundedHours = Math.floor(Number(hours));

        return `RC${motorbikeIdString}A${accId}${normalizedName}${pickUpFormatted}T${roundedHours}`;
    }

    // Rent button handler
    elements.rentButton?.addEventListener("click", function() {
        const logAccId = /*[[${loggedAcc != null ? loggedAcc.accountId : 0}]]*/ 0;
        const motorbike = /*[[${motorbike.motorbikeId}]]*/ 0;
        
        // Validate user login
        if (getText('fullName') === 'Chưa có tên') {
            alert("Vui lòng đăng nhập để tiếp tục.");
            window.location.href = "/login";
            return;
        }

        // Collect form data
        const rentalData = {
            pickupDT: getText("pickUpDateTime"),
            returnDT: getText("returnDateTime"),
            hours: getText("totalRentalHours"),
            address: getValue("address-input"),
            notes: getValue("notes-input")
        };

        // Validate required fields
        if (!rentalData.pickupDT || !rentalData.returnDT || !rentalData.hours || !rentalData.address) {
            alert("Vui lòng nhập đầy đủ thông tin trước khi tiếp tục!");
            return;
        }

        // Get promotion code info
        const selectedPromoCode = document.querySelector('.selected-promo-code');
        const selectedPromoDescription = document.querySelector('.selected-promo-description');
        const promoText = selectedPromoCode && selectedPromoDescription ? 
                         `${selectedPromoCode.textContent} - ${selectedPromoDescription.textContent}` : 
                         'Không có';

        // Update modal content
        getElement("pickupTime").textContent = rentalData.pickupDT;
        getElement("returnTime").textContent = rentalData.returnDT;
        getElement("rentalHours").textContent = rentalData.hours;
        getElement("finalRentRate").textContent = getText("totalRatePrice");
        getElement("rentalAddress").textContent = rentalData.address;
        getElement("promoCode").textContent = promoText;

        // Generate QR Code
        const bookingCode = generateBookingCode(
        	motorbike,
            logAccId,
            getText('fullName'),
            new Date(`${getValue("modalPickUpDate")} ${getValue("modalPickUpTime")} GMT+07:00`),
            rentalData.hours
        );

        const amount = Number(getText("totalRatePrice").replace(/\D/g, ""));
        const qrUrl = `https://img.vietqr.io/image/${BANK_INFO.BANK_ID}-${BANK_INFO.ACCOUNT_NO}-compact2.png?amount=${amount}&addInfo=${bookingCode}&accountName=${BANK_INFO.ACCOUNT_NAME}`;

        getElement("qrImage").src = qrUrl;
        getElement("qrText").textContent = bookingCode;
    });

    // Confirm rental handler
    getElement("confirmRentButton")?.addEventListener("click", function() {
        const rentalData = {
            accountId: /*[[${loggedAcc != null ? loggedAcc.accountId : 0}]]*/ 0,
            motorbikeId: /*[[${motorbike.motorbikeId}]]*/ 0,
            fullName: getText('fullName'),
            phoneNumber: getText('sdt'),
            pickupDateTime: new Date(`${getValue("modalPickUpDate")} ${getValue("modalPickUpTime")} GMT+07:00`),
            returnDateTime: new Date(`${getValue("modalReturnDate")} ${getValue("modalReturnTime")} GMT+07:00`),
            rentalHours: getText("rentalHours"),
            rentalAddress: getText("rentalAddress"),
            promoCode: getText("promoCode"),
            notes: getValue("notes-input"),
            finalRentRate: Number(getText("totalRatePrice").replace(/\D/g, "")),
            paymentOption: document.querySelector('input[name="paymentOption"]:checked').value
        };

     // Log thông tin ra console
	    console.log('MotorbikeId ID:', rentalData.motorbikeId);
	    console.log('Pickup DateTime:', rentalData.pickupDateTime);
	    console.log('Return DateTime:', rentalData.returnDateTime);
	    console.log('Rental Hours:', rentalData.rentalHours);
	    console.log('Rental Address:', rentalAddress);
	    console.log('Promo Code:', rentalData.promoCode);
	    console.log('Notes:', rentalData.notes);
	    console.log('Final Rent Rate:', rentalData.finalRentRate);
	    console.log('Payment Option:', rentalData.paymentOption);
	    
        // Instead of API call, showing success message
        alert("Bạn đã xác nhận thuê xe thành công!");
        bootstrap.Modal.getInstance(elements.rentModal).hide();
    });
});
</script>

		
					</div>
					

					<div class="surcharge">
						<p class="title text-primary">Phụ phí có thể phát sinh</p>
						<div class="surcharge-container">
							<div class="surcharge-item">
								<div class="wrap-svg">
									<svg width="16" height="16" viewBox="0 0 16 16" fill="none"
										xmlns="http://www.w3.org/2000/svg">
                                        <path d="M8 7.33398V10.4407"
											stroke="#666666" stroke-linecap="round"
											stroke-linejoin="round"></path>
                                        <path
											d="M8 6.05469C8.27614 6.05469 8.5 5.83083 8.5 5.55469C8.5 5.27855 8.27614 5.05469 8 5.05469C7.72386 5.05469 7.5 5.27855 7.5 5.55469C7.5 5.83083 7.72386 6.05469 8 6.05469Z"
											fill="#666666"></path>
                                        <path
											d="M7.99967 14.1673C11.4054 14.1673 14.1663 11.4064 14.1663 8.00065C14.1663 4.5949 11.4054 1.83398 7.99967 1.83398C4.59392 1.83398 1.83301 4.5949 1.83301 8.00065C1.83301 11.4064 4.59392 14.1673 7.99967 14.1673Z"
											stroke="#666666" stroke-linecap="round"
											stroke-linejoin="round"></path>
                                    </svg>
								</div>
								<div class="content">
									<div class="content-item">
										<p class="title">Phí vượt giới hạn</p>
										<p class="cost">
											<span>4 000đ/km</span>
										</p>
									</div>
									<div class="content-item">
										<p>
											Phụ phí phát sinh nếu lộ trình di chuyển vượt quá <span>300km</span>
											khi thuê xe<span> 1 ngày</span>
										</p>
									</div>
								</div>
							</div>
							<div class="surcharge-item">
								<div class="wrap-svg">
									<svg width="16" height="16" viewBox="0 0 16 16" fill="none"
										xmlns="http://www.w3.org/2000/svg">
                                        <path d="M8 7.33398V10.4407"
											stroke="#666666" stroke-linecap="round"
											stroke-linejoin="round"></path>
                                        <path
											d="M8 6.05469C8.27614 6.05469 8.5 5.83083 8.5 5.55469C8.5 5.27855 8.27614 5.05469 8 5.05469C7.72386 5.05469 7.5 5.27855 7.5 5.55469C7.5 5.83083 7.72386 6.05469 8 6.05469Z"
											fill="#666666"></path>
                                        <path
											d="M7.99967 14.1673C11.4054 14.1673 14.1663 11.4064 14.1663 8.00065C14.1663 4.5949 11.4054 1.83398 7.99967 1.83398C4.59392 1.83398 1.83301 4.5949 1.83301 8.00065C1.83301 11.4064 4.59392 14.1673 7.99967 14.1673Z"
											stroke="#666666" stroke-linecap="round"
											stroke-linejoin="round"></path>
                                    </svg>
								</div>
								<div class="content">
									<div class="content-item">
										<p class="title">Phí quá giờ</p>
										<p class="cost">
											<span>50 000đ/h</span>
										</p>
									</div>
									<div class="content-item">
										<p>
											Phụ phí phát sinh nếu hoàn trả xe trễ giờ. Trường hợp trễ quá<span>
												7 giờ</span>, phụ phí thêm <span>1 ngày </span>thuê
										</p>
									</div>
								</div>
							</div>
							<div class="surcharge-item">
								<div class="wrap-svg">
									<svg width="16" height="16" viewBox="0 0 16 16" fill="none"
										xmlns="http://www.w3.org/2000/svg">
                                        <path d="M8 7.33398V10.4407"
											stroke="#666666" stroke-linecap="round"
											stroke-linejoin="round"></path>
                                        <path
											d="M8 6.05469C8.27614 6.05469 8.5 5.83083 8.5 5.55469C8.5 5.27855 8.27614 5.05469 8 5.05469C7.72386 5.05469 7.5 5.27855 7.5 5.55469C7.5 5.83083 7.72386 6.05469 8 6.05469Z"
											fill="#666666"></path>
                                        <path
											d="M7.99967 14.1673C11.4054 14.1673 14.1663 11.4064 14.1663 8.00065C14.1663 4.5949 11.4054 1.83398 7.99967 1.83398C4.59392 1.83398 1.83301 4.5949 1.83301 8.00065C1.83301 11.4064 4.59392 14.1673 7.99967 14.1673Z"
											stroke="#666666" stroke-linecap="round"
											stroke-linejoin="round"></path>
                                    </svg>
								</div>
								<div class="content">
									<div class="content-item">
										<p class="title">Phí vệ sinh</p>
										<p class="cost">
											<span>120 000đ</span>
										</p>
									</div>
									<div class="content-item">
										<p>Phụ phí phát sinh khi xe hoàn trả không đảm bảo vệ sinh
											(nhiều vết bẩn, bùn cát, sình lầy...)</p>
									</div>
								</div>
							</div>
							<div class="surcharge-item">
								<div class="wrap-svg">
									<svg width="16" height="16" viewBox="0 0 16 16" fill="none"
										xmlns="http://www.w3.org/2000/svg">
                                        <path d="M8 7.33398V10.4407"
											stroke="#666666" stroke-linecap="round"
											stroke-linejoin="round"></path>
                                        <path
											d="M8 6.05469C8.27614 6.05469 8.5 5.83083 8.5 5.55469C8.5 5.27855 8.27614 5.05469 8 5.05469C7.72386 5.05469 7.5 5.27855 7.5 5.55469C7.5 5.83083 7.72386 6.05469 8 6.05469Z"
											fill="#666666"></path>
                                        <path
											d="M7.99967 14.1673C11.4054 14.1673 14.1663 11.4064 14.1663 8.00065C14.1663 4.5949 11.4054 1.83398 7.99967 1.83398C4.59392 1.83398 1.83301 4.5949 1.83301 8.00065C1.83301 11.4064 4.59392 14.1673 7.99967 14.1673Z"
											stroke="#666666" stroke-linecap="round"
											stroke-linejoin="round"></path>
                                    </svg>
								</div>
								<div class="content">
									<div class="content-item">
										<p class="title">Phí khử mùi</p>
										<p class="cost">
											<span>300 000đ</span>
										</p>
									</div>
									<div class="content-item">
										<p>Phụ phí phát sinh khi xe hoàn trả bị ám mùi khó chịu
											(mùi thuốc lá, thực phẩm nặng mùi...)</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

		</div>
	</div>
	
	<!-- footer -->
	<div class="footer">
		<div th:replace="~{module/footer :: footer }"  class="container">
			
		</div>
	</div>

	<!-- Ion-Icon -->
	<script type="module"
		src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
	<script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
	<!-- jQuery -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	
	<!-- Bootstrap JS và Popper.js -->
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"></script>

	<!-- Flatpickr -->
	<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
	<!-- Swiper.js library -->
	<script
		src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
	<!-- Custom Swiper JS -->
<script src="/assets/js/swiper.js"></script>
	<!-- Search option JS -->
<script src="/assets/js/Search-option.js"></script>
	<!-- Car-details -->
<script th:inline="javascript" src="/assets/js/car-detail.js"></script>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
//
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
</div>
</body>
</html>